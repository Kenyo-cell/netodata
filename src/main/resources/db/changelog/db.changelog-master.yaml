databaseChangeLog:
  - logicalFilePath: db/changelog/db.changelog-1.yaml
  - changeSet:
      id: 1
      author: Kenyo-cell
      changes:
        - createTable:
            tableName: customers
            columns:
              - column:
                  name: id
                  type: SERIAL
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: "name"
                  type: VARCHAR
                  constraints:
                    nullable: false
              - column:
                  name: surname
                  type: VARCHAR
                  constraints:
                    nullable: false
              - column:
                  name: age
                  type: SMALLINT
                  constraints:
                    nullable: false
              - column:
                  name: phone_number
                  type: CHAR(11)
                  constraints:
                    nullable: false
        - createTable:
            tableName: orders
            columns:
              - column:
                  name: id
                  type: SERIAL
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: date
                  type: DATE
                  constraints:
                    nullable: false
                  defaultValueComputed: "NOW()"
              - column:
                  name: customer_id
                  type: INTEGER
                  constraints:
                    nullable: false
                    foreignKeyName: customer_id_fk
                    references: customers(id)
                    onDelete: CASCADE
                    onUpdtae: CASCADE
              - column:
                  name: product_name
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: amount
                  type: FLOAT4
                  constraints:
                    nullable: false
  - changeSet:
      id: 2
      author: Kenyo-cell
      changes:
        - insert:
            tableName: customers
            columns:
              - column:
                  name: "name"
                  value: "alexey"
              - column:
                  name: surname
                  value: "alexeev"
              - column:
                  name: age
                  value: 27
              - column:
                  name: phone_number
                  value: "81234567890"
        - insert:
            tableName: customers
            columns:
              - column:
                  name: "name"
                  value: "Alexey"
              - column:
                  name: surname
                  value: "Rubcov"
              - column:
                  name: age
                  value: 20
              - column:
                  name: phone_number
                  value: "89087654321"
        - insert:
            tableName: customers
            columns:
              - column:
                  name: "name"
                  value: "Vitaliy"
              - column:
                  name: surname
                  value: "aliev"
              - column:
                  name: age
                  value: 46
              - column:
                  name: phone_number
                  value: "87890123456"
        - insert:
            tableName: customers
            columns:
              - column:
                  name: "name"
                  value: "VITALIY"
              - column:
                  name: surname
                  value: "alokaev"
              - column:
                  name: age
                  value: 14
              - column:
                  name: phone_number
                  value: "86754320918"

        - insert:
            tableName: orders
            columns:
              - column:
                  name: customer_id
                  value: 1
              - column:
                  name: product_name
                  value: "AirPods"
              - column:
                  name: amount
                  value: 14999
        - insert:
            tableName: orders
            columns:
              - column:
                  name: customer_id
                  value: 2
              - column:
                  name: product_name
                  value: "Powerbank"
              - column:
                  name: amount
                  value: 1999
        - insert:
            tableName: orders
            columns:
              - column:
                  name: customer_id
                  value: 3
              - column:
                  name: product_name
                  value: "Love Is 1000 pcs"
              - column:
                  name: amount
                  value: 899
        - insert:
            tableName: orders
            columns:
              - column:
                  name: customer_id
                  value: 4
              - column:
                  name: product_name
                  value: "Glasses"
              - column:
                  name: amount
                  value: 12499
